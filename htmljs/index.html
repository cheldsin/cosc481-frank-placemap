<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <title>PlaceMap test</title>

    <style type="text/css">

      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }

      #map_canvas { height: 500px;width: 100%; border:1px solid black; }
      
    </style>

    <script type="text/javascript"
	    src="placemap.js"></script>

    <script type="text/javascript"
	    src="http://maps.googleapis.com/maps/api/js?sensor=false">
    </script>

    <script type="text/javascript"
	    src="http://maps.googleapis.com/maps/api/js?libraries=places&sensor=false"></script>

    <script type="text/javascript">
      
      // map needs to be global for callbacks
      var defaultPlaceMap;
      var currentMaps = {};

      function initialize() {
      defaultPlaceMap = new PlaceMap('testmap1');
      currentMaps['testmap1'] = defaultPlaceMap;


      // defaultPlaceMap.loadMap();
      
      //defaultPlaceMap.findPlaces();

      //d = new Directions('ypsilanti,mi','port huron,mi');
      //d.sendRequest();

      }


      function mapinput_callback(e) {
      var origin = document.forms['mapinput'].origin;
      var destination = document.forms['mapinput'].destination;
      //alert(origin);

      defaultPlaceMap.loadMap();

      defaultPlaceMap.plotRoute(origin.value, destination.value);

      //var d = new Directions(origin.value, destination.value);
      //d.sendRequest();

      

      }


    </script>
  </head>
  <body onload="initialize()">
    <form name="mapinput" id="mapinput">
      <!-- user input area -->
<label style="display:inline-block;width:200px">Origin</label>
<input type="text" name="origin" id="origin" />
<br />
<label style="display:inline-block;width:200px">Destination</label>
<input type="text" name="destination" id="destination" />
<br />
<input type="button" name="go" value="Go" onclick="mapinput_callback(event)" />


    </form>


    <div id="map_canvas"></div>

    <div id="debug_out"></div>
  </body>
</html>
