<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <title>PlaceMap test</title>

    <link rel="stylesheet" type="text/css" href="style.css" />

    <script type="text/javascript"
	    src="placemap.js"></script>

    <script type="text/javascript"
	    src="http://maps.googleapis.com/maps/api/js?sensor=false">
    </script>

    <script type="text/javascript"
	    src="http://maps.googleapis.com/maps/api/js?libraries=places&sensor=false"></script>

    <script type="text/javascript">
      // gets selected options and returns value list

      // map needs to be global for callbacks
      var defaultPlaceMap;
      var currentMaps = {};

      function initialize() {


      defaultPlaceMap = new PlaceMap('testmap1');
      
      defaultPlaceMap.loadMap();
      



      }


      function mapinput_callback(e) {
      var origin = document.forms['mapinput'].origin;
      var destination = document.forms['mapinput'].destination;

      // set options
      var t = get_selected_list(document.forms['mapinput'].category);
      //alert(t);
      defaultPlaceMap.options['placeTypes'] = get_selected_list(document.forms['mapinput'].category);
      defaultPlaceMap.options['placeListNode'] = document.getElementById('placelist');



      // using default info window call back
      defaultPlaceMap.options['marker_onclick'] = function anonymous(event) {
      defaultPlaceMap.openInfo(event.latLng.lat(),event.latLng.lng());
      
      };


      defaultPlaceMap.loadMap();
      

      defaultPlaceMap.plotRoute(origin.value, destination.value);


      }
    </script>
  </head>
  <body onload="initialize()">

    <div id="header"><h1>PlaceMap</h1></div>

    <div id="intro">
      <div id='introForm'>
        <h3>1. Where are you now?</h3>
        <p><input type='text' id='introOrigin' /></p>
        <h3>2. Where are you going?</h3>
        <p><input type='text' id='introDest' /></p>
        <h3>3. What places interest you?</h3>
        <p>[select box]</p>
        <p><button style='float:right;border: 1px solid black;' onclick='document.getElementById("intro").style.display="none";document.getElementById("map").style.display="block"'>Let's get started</button></p>
        <div style='clear:both;'></div>
      </div>
    </div>

    <div id="map">

      <div id="leftcol">

	<div id="searchdiv">
	  <form name="mapinput" id="mapinput">
	    <!-- user input area -->
	    <label class="searchlabel" style="">Origin</label><br />
	    <input type="text" name="origin" id="origin" value="Port Huron,MI" /><br />
	    <br />
	    
	    <label class="searchlabel" style="">Destination</label><br />
	    <input type="text" name="destination" id="destination" value="Ypsilanti,MI" /><br />

            <br />

	    <label class="searchlabel">Categories</label><br>
	    <select multiple="multiple" name="category">
              <option value="accounting">accounting</option>
              <option value="airport">airport</option>
              <option value="amusement_park">amusement_park</option>
              <option value="aquarium">aquarium</option>
              <option value="art_gallery">art_gallery</option>
              <option value="atm">atm</option>
              <option value="bakery">bakery</option>
              <option value="bank">bank</option>
              <option value="bar">bar</option>
              <option value="beauty_salon">beauty_salon</option>
              <option value="bicycle_store">bicycle_store</option>
              <option value="book_store">book_store</option>
              <option value="bowling_alley">bowling_alley</option>
              <option value="bus_station">bus_station</option>
              <option value="cafe">cafe</option>
              <option value="campground">campground</option>
              <option value="car_dealer">car_dealer</option>
              <option value="car_rental">car_rental</option>
              <option value="car_repair">car_repair</option>
              <option value="car_wash">car_wash</option>
              <option value="casino">casino</option>
              <option value="cemetery">cemetery</option>
              <option value="church">church</option>
              <option value="city_hall">city_hall</option>
              <option value="clothing_store">clothing_store</option>
              <option value="convenience_store">convenience_store</option>
              <option value="courthouse">courthouse</option>
              <option value="dentist">dentist</option>
              <option value="department_store">department_store</option>
              <option value="doctor">doctor</option>
              <option value="electrician">electrician</option>
              <option value="electronics_store">electronics_store</option>
              <option value="embassy">embassy</option>
              <option value="establishment">establishment</option>
              <option value="finance">finance</option>
              <option value="fire_station">fire_station</option>
              <option value="florist">florist</option>
              <option value="food">food</option>
              <option value="funeral_home">funeral_home</option>
              <option value="furniture_store">furniture_store</option>
              <option value="gas_station">gas_station</option>
              <option value="general_contractor">general_contractor</option>
              <option value="geocode">geocode</option>
              <option value="grocery_or_supermarket">grocery_or_supermarket</option>
              <option value="gym">gym</option>
              <option value="hair_care">hair_care</option>
              <option value="hardware_store">hardware_store</option>
              <option value="health">health</option>
              <option value="hindu_temple">hindu_temple</option>
              <option value="home_goods_store">home_goods_store</option>
              <option value="hospital">hospital</option>
              <option value="insurance_agency">insurance_agency</option>
              <option value="jewelry_store">jewelry_store</option>
              <option value="laundry">laundry</option>
              <option value="lawyer">lawyer</option>
              <option value="library">library</option>
              <option value="liquor_store">liquor_store</option>
              <option value="local_government_office">local_government_office</option>
              <option value="locksmith">locksmith</option>
              <option value="lodging">lodging</option>
              <option value="meal_delivery">meal_delivery</option>
              <option value="meal_takeaway">meal_takeaway</option>
              <option value="mosque">mosque</option>
              <option value="movie_rental">movie_rental</option>
              <option value="movie_theater">movie_theater</option>
              <option value="moving_company">moving_company</option>
              <option value="museum">museum</option>
              <option value="night_club">night_club</option>
              <option value="painter">painter</option>
              <option value="park">park</option>
              <option value="parking">parking</option>
              <option value="pet_store">pet_store</option>
              <option value="pharmacy">pharmacy</option>
              <option value="physiotherapist">physiotherapist</option>
              <option value="place_of_worship">place_of_worship</option>
              <option value="plumber">plumber</option>
              <option value="police">police</option>
              <option value="post_office">post_office</option>
              <option value="real_estate_agency">real_estate_agency</option>
              <option value="restaurant">restaurant</option>
              <option value="roofing_contractor">roofing_contractor</option>
              <option value="rv_park">rv_park</option>
              <option value="school">school</option>
              <option value="shoe_store">shoe_store</option>
              <option value="shopping_mall">shopping_mall</option>
              <option value="spa">spa</option>
              <option value="stadium">stadium</option>
              <option value="storage">storage</option>
              <option value="store">store</option>
              <option value="subway_station">subway_station</option>
              <option value="synagogue">synagogue</option>
              <option value="taxi_stand">taxi_stand</option>
              <option value="train_station">train_station</option>
              <option value="travel_agency">travel_agency</option>
              <option value="university">university</option>
              <option value="veterinary_care">veterinary_care</option>
              <option value="zoo">zoo</option>
	    </select><br />

            <br />
    
	    <input type="button" name="go" value="Go" onclick="mapinput_callback(event)" /><br>
	   

	    
	  </form>
	</div>
	
	

	
	<div id="placelist">
	</div>



      </div>

      <div id="testmap1" class="googlemap"></div>

      <div id="directionlist"></div>

    </div>

    <div id="footer">legal text</div>

  </body>
</html>
